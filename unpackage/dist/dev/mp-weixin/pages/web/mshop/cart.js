(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/web/mshop/cart"],{

/***/ 529:
/*!************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/qianmengApp/main.js?{"page":"pages%2Fweb%2Fmshop%2Fcart"} ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
__webpack_require__(/*! uni-pages */ 4);
var _mpvuePageFactory = _interopRequireDefault(__webpack_require__(/*! mpvue-page-factory */ 17));
var _cart = _interopRequireDefault(__webpack_require__(/*! ./pages/web/mshop/cart.vue */ 530));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
Page((0, _mpvuePageFactory.default)(_cart.default));

/***/ }),

/***/ 530:
/*!***************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cart_vue_vue_type_template_id_22c385ec___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cart.vue?vue&type=template&id=22c385ec& */ 531);
/* harmony import */ var _cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cart.vue?vue&type=script&lang=js& */ 533);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cart.vue?vue&type=style&index=0&lang=css& */ 535);
/* harmony import */ var _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 10);






/* normalize component */

var component = Object(_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _cart_vue_vue_type_template_id_22c385ec___WEBPACK_IMPORTED_MODULE_0__["render"],
  _cart_vue_vue_type_template_id_22c385ec___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 531:
/*!**********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue?vue&type=template&id=22c385ec& ***!
  \**********************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_template_id_22c385ec___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=22c385ec& */ 532);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_template_id_22c385ec___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_template_id_22c385ec___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 532:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue?vue&type=template&id=22c385ec& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "view",
    { staticClass: "newBody" },
    [
      _c(
        "view",
        { staticStyle: { "padding-bottom": "180rpx" } },
        [
          !_vm.cartList.cart_list.length
            ? _c("view", { staticClass: "wwi-nodata" }, [_vm._m(0)])
            : _vm._e(),
          !_vm.key && _vm.cartList.cart_list.length
            ? _c("view", { staticClass: "login-cart" }, [
                _c("view", { staticClass: "title flex flexAic flexJcc" }, [
                  _vm._v("登入后购物车商品会自动添加到你的购物车")
                ]),
                _c(
                  "view",
                  { staticClass: "btn flex flexrow flexAic flexJcc" },
                  [
                    _c(
                      "navigator",
                      {
                        staticClass: "span",
                        attrs: { url: "/pages/web/login" }
                      },
                      [_vm._v("登入")]
                    ),
                    _c(
                      "navigator",
                      {
                        staticClass: "span",
                        staticStyle: { color: "#FF0036" },
                        attrs: { url: "/pages/web/register" }
                      },
                      [_vm._v("注册")]
                    )
                  ],
                  1
                )
              ])
            : _vm._e(),
          _vm._l(_vm.cartList.cart_list, function(item, index) {
            return _vm.cartList.cart_list.length > 0
              ? _c(
                  "view",
                  {
                    key: index,
                    staticClass: "wwiapp-cart-container flex flexcol"
                  },
                  [
                    _c(
                      "view",
                      { staticClass: "wwiapp-cart-store flex flexcol" },
                      [
                        _c(
                          "view",
                          {
                            staticClass: "dt flex flexrow",
                            staticStyle: { "justify-content": "space-between" }
                          },
                          [
                            _c(
                              "view",
                              { staticClass: "store-hd flex flexrow" },
                              [
                                _c("view", {
                                  staticClass: "wwi-icon wwi-icon-duihao click",
                                  class: { ok: item.click },
                                  attrs: { eventid: "4583edf8-0-" + index },
                                  on: {
                                    click: function($event) {
                                      _vm.selectItem("store", item)
                                    }
                                  }
                                }),
                                _c("view", {
                                  staticClass: "wwi-icon wwi-icon-dianpu"
                                }),
                                _c("view", { staticClass: "shop" }, [
                                  _vm._v(_vm._s(item.store_name))
                                ])
                              ]
                            ),
                            item.voucher
                              ? _c(
                                  "view",
                                  {
                                    staticClass: "handle flex flexrow",
                                    attrs: { eventid: "4583edf8-1-" + index },
                                    on: {
                                      click: function($event) {
                                        _vm.showMulLinkageThreePicker(item)
                                      }
                                    }
                                  },
                                  [
                                    _c("view", {
                                      staticClass: "wwi-icon wwi-icon-qiaquan"
                                    }),
                                    _c("view", { staticClass: "span" }, [
                                      _vm._v("领券")
                                    ])
                                  ]
                                )
                              : _vm._e()
                          ]
                        ),
                        item.free_freight
                          ? _c("view", { staticClass: "dd flex flexrow" }, [
                              _c("view", { staticClass: "em" }, [
                                _vm._v("免运费")
                              ]),
                              _c("view", { staticClass: "span" }, [
                                _vm._v(_vm._s(item.free_freight))
                              ])
                            ])
                          : _vm._e(),
                        item.mansong
                          ? _c(
                              "view",
                              {
                                staticClass: "dd flex flexrow",
                                attrs: { eventid: "4583edf8-2-" + index },
                                on: {
                                  click: function($event) {
                                    _vm.mansong(item)
                                  }
                                }
                              },
                              [
                                _c("view", { staticClass: "em" }, [
                                  _vm._v("满即送")
                                ]),
                                _c(
                                  "view",
                                  {
                                    staticClass: "span",
                                    class: { nohide: item.msclick },
                                    staticStyle: { "flex-wrap": "wrap" }
                                  },
                                  _vm._l(item.mansong, function(k, v) {
                                    return _c(
                                      "view",
                                      {
                                        key: v,
                                        staticClass: "flex i flexrow",
                                        staticStyle: {
                                          height: "40rpx",
                                          "line-height": "40rpx",
                                          width: "100%"
                                        }
                                      },
                                      [
                                        _vm._v(_vm._s(k.desc)),
                                        k.url
                                          ? _c("block", [
                                              _c("image", {
                                                staticStyle: {
                                                  width: "40rpx",
                                                  height: "40rpx"
                                                },
                                                attrs: { src: k.url }
                                              })
                                            ])
                                          : _vm._e()
                                      ],
                                      1
                                    )
                                  })
                                ),
                                _c("view", {
                                  staticClass: "wwi-icon",
                                  class: {
                                    "wwi-icon-jiantou_liebiaozhankai":
                                      item.msclick,
                                    "wwi-icon-jiantou_liebiaoshouqi": !item.msclick
                                  },
                                  staticStyle: { color: "#ccc" }
                                })
                              ]
                            )
                          : _vm._e(),
                        item.jjg &&
                        item.jjg.jjgRank &&
                        item.jjg.price >= item.jjg.mincost
                          ? _c("view", { staticClass: "dd flex flexrow" }, [
                              _c("view", { staticClass: "em" }, [
                                _vm._v("加价购")
                              ]),
                              _c("view", { staticClass: "span" }, [
                                _vm._v(
                                  "已购满 " +
                                    _vm._s(item.jjg.mincost) +
                                    " 元，再加 " +
                                    _vm._s(item.jjg.plus) +
                                    " 元，"
                                ),
                                _c(
                                  "view",
                                  {
                                    staticClass: "b-btn",
                                    staticStyle: {
                                      color: "#ff0036",
                                      "margin-left": "10rpx"
                                    },
                                    attrs: { eventid: "4583edf8-3-" + index },
                                    on: {
                                      click: function($event) {
                                        _vm.selectJjg(
                                          item.jjg.goods,
                                          item.jjg.maxcou
                                        )
                                      }
                                    }
                                  },
                                  [_vm._v("点击选择换购")]
                                )
                              ])
                            ])
                          : _vm._e(),
                        item.jjg
                          ? _c(
                              "view",
                              { staticClass: "jjg-goods" },
                              _vm._l(item.jjg.goods, function(jjg, v) {
                                return jjg.click
                                  ? _c(
                                      "view",
                                      {
                                        key: v,
                                        staticClass: "jjg-item flex flexrow"
                                      },
                                      [
                                        _c(
                                          "view",
                                          { staticClass: "jjg-gpic" },
                                          [
                                            _c("image", {
                                              attrs: { src: jjg.imgurl }
                                            })
                                          ]
                                        ),
                                        _c(
                                          "view",
                                          { staticClass: "jjg-info" },
                                          [
                                            _c(
                                              "view",
                                              { staticClass: "jjg-name" },
                                              [
                                                _vm._v(_vm._s(jjg.name)),
                                                _c(
                                                  "view",
                                                  { staticClass: "pp" },
                                                  [_vm._v("换购")]
                                                ),
                                                _c(
                                                  "view",
                                                  { staticClass: "em" },
                                                  [_vm._v("x 1")]
                                                )
                                              ]
                                            ),
                                            _c(
                                              "view",
                                              {
                                                staticClass:
                                                  "price flex flexrow"
                                              },
                                              [
                                                _vm._v("¥" + _vm._s(jjg.price)),
                                                _c(
                                                  "view",
                                                  { staticClass: "del" },
                                                  [
                                                    _vm._v(
                                                      "¥" + _vm._s(jjg.oldprice)
                                                    )
                                                  ]
                                                )
                                              ]
                                            )
                                          ]
                                        )
                                      ]
                                    )
                                  : _vm._e()
                              })
                            )
                          : _vm._e()
                      ]
                    ),
                    _c(
                      "view",
                      { staticClass: "wwiapp-cart-item flex flexcol" },
                      _vm._l(item.goods, function(kk, vv) {
                        return _c(
                          "view",
                          {
                            key: vv,
                            staticClass: "cart-litemw-cnt",
                            class: { jjg: kk.jjgRank > 0 }
                          },
                          [
                            _c("view", { staticClass: " flex flexrow" }, [
                              _c("view", {
                                staticClass: "wwi-icon wwi-icon-duihao click",
                                class: { ok: kk.click },
                                attrs: {
                                  eventid: "4583edf8-4-" + index + "-" + vv
                                },
                                on: {
                                  click: function($event) {
                                    _vm.selectItem("goods", kk, item)
                                  }
                                }
                              }),
                              _c("view", { staticClass: "goods-pic" }, [
                                _c("image", {
                                  attrs: { src: kk.goods_image_url }
                                })
                              ]),
                              _c(
                                "view",
                                { staticClass: "goods-info flex flexcol" },
                                [
                                  _c(
                                    "view",
                                    { staticClass: "goods_name flex flexrow" },
                                    [
                                      _c(
                                        "view",
                                        { staticClass: "goods-name" },
                                        [_vm._v(_vm._s(kk.goods_name))]
                                      ),
                                      _c("view", {
                                        staticClass:
                                          "wwi-icon wwi-icon-shanchu",
                                        attrs: {
                                          eventid:
                                            "4583edf8-5-" + index + "-" + vv
                                        },
                                        on: {
                                          click: function($event) {
                                            _vm.del(kk)
                                          }
                                        }
                                      })
                                    ]
                                  ),
                                  _c("view", { staticClass: "goods-spec" }, [
                                    _vm._v(_vm._s(kk.goods_spec))
                                  ]),
                                  _c(
                                    "view",
                                    {
                                      staticClass:
                                        "goods-subtotal flex flexrow flexJcs"
                                    },
                                    [
                                      _c(
                                        "view",
                                        {
                                          staticClass:
                                            "goods-price flex flexrow"
                                        },
                                        [
                                          _c(
                                            "view",
                                            {
                                              staticClass: "price flex flexrow"
                                            },
                                            [
                                              _c(
                                                "view",
                                                { staticClass: "sapn" },
                                                [_vm._v("￥")]
                                              ),
                                              _c(
                                                "view",
                                                { staticClass: "em" },
                                                [_vm._v(_vm._s(kk.goods_price))]
                                              )
                                            ]
                                          ),
                                          _c(
                                            "view",
                                            {
                                              staticClass:
                                                "sale-price flex flexrow"
                                            },
                                            [
                                              kk.groupbuy_info &&
                                              kk.groupbuy_info.length
                                                ? _c(
                                                    "view",
                                                    { staticClass: "em" },
                                                    [_vm._v("团购")]
                                                  )
                                                : _vm._e(),
                                              kk.promotion_info &&
                                              kk.promotion_info
                                                .promotion_type == 2
                                                ? _c(
                                                    "view",
                                                    { staticClass: "em" },
                                                    [_vm._v("限时折扣")]
                                                  )
                                                : _vm._e(),
                                              kk.promotion_info &&
                                              kk.promotion_info
                                                .promotion_type == 3
                                                ? _c(
                                                    "view",
                                                    { staticClass: "em" },
                                                    [_vm._v("秒杀")]
                                                  )
                                                : _vm._e(),
                                              kk.promotion_info &&
                                              kk.promotion_info
                                                .promotion_type == 4
                                                ? _c(
                                                    "view",
                                                    { staticClass: "em" },
                                                    [_vm._v("闪购")]
                                                  )
                                                : _vm._e(),
                                              kk.sole_info &&
                                              kk.sole_info.length
                                                ? _c(
                                                    "view",
                                                    { staticClass: "em" },
                                                    [_vm._v("手机专享")]
                                                  )
                                                : _vm._e()
                                            ]
                                          )
                                        ]
                                      ),
                                      _c(
                                        "view",
                                        { staticClass: "num" },
                                        [
                                          _c("number-box", {
                                            attrs: {
                                              num: kk.goods_num,
                                              min: 1,
                                              max: kk.goods_storage,
                                              eventid:
                                                "4583edf8-6-" +
                                                index +
                                                "-" +
                                                vv,
                                              mpcomid:
                                                "4583edf8-0-" + index + "-" + vv
                                            },
                                            on: {
                                              change: function($event) {
                                                _vm.onNumberChange($event, kk)
                                              }
                                            }
                                          })
                                        ],
                                        1
                                      )
                                    ]
                                  )
                                ]
                              )
                            ]),
                            kk.gift_list && kk.gift_list.length > 0
                              ? _c(
                                  "view",
                                  { staticClass: "goods-gift" },
                                  _vm._l(kk.gift_list, function(sk, sv) {
                                    return _c(
                                      "view",
                                      {
                                        key: sv,
                                        staticClass: "span flex flexrow"
                                      },
                                      [
                                        _c("view", { staticClass: "em" }, [
                                          _vm._v("赠品")
                                        ]),
                                        _vm._v(
                                          _vm._s(sk.gift_goodsname) +
                                            " x " +
                                            _vm._s(sk.gift_amount)
                                        )
                                      ]
                                    )
                                  })
                                )
                              : _vm._e()
                          ]
                        )
                      })
                    )
                  ]
                )
              : _vm._e()
          }),
          _vm.cartList.cart_list.length > 0 && _vm.key
            ? _c(
                "view",
                {
                  staticClass: "bottom flex flexrow",
                  staticStyle: { bottom: "100rpx" }
                },
                [
                  _c("view", {
                    staticClass: "wwi-icon wwi-icon-duihao click",
                    class: { ok: _vm.cartList.click },
                    attrs: { eventid: "4583edf8-7" },
                    on: {
                      click: function($event) {
                        _vm.selectItem("all")
                      }
                    }
                  }),
                  _c("view", { staticClass: "total flex flexrow" }, [
                    _c("view", { staticClass: "dt" }, [_vm._v("合计：")]),
                    _c("view", { staticClass: "dd flex flexrow" }, [
                      _vm._v("￥"),
                      _c("view", { staticClass: "em" }, [
                        _vm._v(_vm._s(_vm.cartList.sum))
                      ])
                    ])
                  ]),
                  _c(
                    "view",
                    {
                      staticClass: "btn",
                      class: { no: !_vm.btnGo },
                      attrs: { eventid: "4583edf8-8" },
                      on: { click: _vm.goBuy }
                    },
                    [_vm._v("确认信息")]
                  )
                ]
              )
            : _vm._e()
        ],
        2
      ),
      _c(
        "wwi-mask-up",
        {
          ref: "wwiMaskUp",
          attrs: {
            leftText: "取消",
            title: "领取代金券",
            mpcomid: "4583edf8-1"
          }
        },
        [
          _c(
            "view",
            { staticClass: "wwiapp-voucher-list" },
            [
              _vm.voucherList.length <= 0
                ? _c(
                    "view",
                    {
                      staticClass: "wwi-nodata",
                      staticStyle: { position: "sticky", padding: "2em 0" }
                    },
                    [
                      _c("view", { staticClass: "no-main" }, [
                        _c("view", {
                          staticClass: "wwi-icon wwi-icon-zhangdan_quxiao"
                        }),
                        _c("view", { staticClass: "dl" }, [
                          _c("view", { staticClass: "dt" }, [
                            _vm._v("暂无代金券可以领取")
                          ]),
                          _c("view", { staticClass: "dd" }, [
                            _vm._v("店铺代金券可享受商品折扣")
                          ])
                        ])
                      ])
                    ]
                  )
                : _vm._e(),
              _vm._l(_vm.voucherList, function(vc, ck) {
                return _c("view", { key: ck, staticClass: "li flex flexrow" }, [
                  _c("view", { staticClass: "dl" }, [
                    _c("view", { staticClass: "money flex flexrow" }, [
                      _vm._v("面额"),
                      _c("view", { staticClass: "em" }, [
                        _vm._v(_vm._s(vc.voucher_t_price))
                      ]),
                      _vm._v("元")
                    ]),
                    _c("view", { staticClass: "need" }, [
                      _vm._v("需消费" + _vm._s(vc.voucher_t_limit) + "使用")
                    ]),
                    _c("view", { staticClass: "time" }, [
                      _vm._v("至" + _vm._s(vc.voucher_t_end_date) + "前使用")
                    ])
                  ]),
                  _c(
                    "view",
                    {
                      staticClass: "btn",
                      attrs: { eventid: "4583edf8-9-" + ck },
                      on: {
                        click: function($event) {
                          _vm.getFreeVoucher(vc)
                        }
                      }
                    },
                    [_c("view", { staticClass: "span" }, [_vm._v("领取")])]
                  )
                ])
              })
            ],
            2
          )
        ]
      ),
      _c(
        "wwi-mask-up",
        {
          ref: "wwiJjg",
          attrs: {
            leftText: "取消",
            title: "选择换购商品",
            mpcomid: "4583edf8-2"
          }
        },
        [
          _c(
            "view",
            { staticClass: "jjg-goods jjg-goods" },
            [
              _vm.jjgGoods.length <= 0
                ? _c(
                    "view",
                    {
                      staticClass: "wwi-nodata",
                      staticStyle: { position: "sticky", padding: "2em 0" }
                    },
                    [
                      _c("view", { staticClass: "no-main" }, [
                        _c("view", {
                          staticClass: "wwi-icon wwi-icon-zhangdan_quxiao"
                        }),
                        _c("view", { staticClass: "dl" }, [
                          _c("view", { staticClass: "dt" }, [
                            _vm._v("未查询到可用换购")
                          ]),
                          _c("view", { staticClass: "dd" }, [
                            _vm._v("你可以稍后再试,或勾选换购产品")
                          ])
                        ])
                      ])
                    ]
                  )
                : _vm._e(),
              _vm._l(_vm.jjgGoods, function(jjg, vvj) {
                return _c(
                  "view",
                  {
                    key: vvj,
                    staticClass: "jjg-item flex flexrow",
                    attrs: { eventid: "4583edf8-10-" + vvj },
                    on: {
                      click: function($event) {
                        _vm.selectJjgGoods(jjg)
                      }
                    }
                  },
                  [
                    _c("view", {
                      staticClass: "wwi-icon wwi-icon-anniu_xuanzhong",
                      class: { ok: jjg.click }
                    }),
                    _c("view", { staticClass: "jjg-gpic" }, [
                      _c("image", { attrs: { src: jjg.imgurl } })
                    ]),
                    _c("view", { staticClass: "jjg-info" }, [
                      _c("view", { staticClass: "jjg-name" }, [
                        _vm._v(_vm._s(jjg.name)),
                        _c("view", { staticClass: "pp" }, [_vm._v("换购")]),
                        _c("view", { staticClass: "em" }, [_vm._v("x 1")])
                      ]),
                      _c("view", { staticClass: "price flex flexrow" }, [
                        _vm._v("¥" + _vm._s(jjg.price)),
                        _c("view", { staticClass: "del" }, [
                          _vm._v("¥" + _vm._s(jjg.oldprice))
                        ])
                      ])
                    ])
                  ]
                )
              })
            ],
            2
          )
        ]
      ),
      _c(
        "view",
        { staticClass: "foot-bottom flex flexAic flexrow" },
        [
          _c(
            "navigator",
            {
              staticClass: "li flex flexAic flexJcc flexcol",
              attrs: {
                "open-type": "redirect",
                url: "/pages/web/mshop/index?msid=" + _vm.mid
              }
            },
            [
              _c("view", { staticClass: "wwi-icon wwi-icon-cangku" }),
              _vm._v("首页")
            ]
          ),
          _c(
            "navigator",
            {
              staticClass: "li flex flexAic flexJcc flexcol",
              attrs: {
                "open-type": "redirect",
                url: "/pages/web/mshop/search?msid=" + _vm.mid
              }
            },
            [
              _c("view", { staticClass: "wwi-icon wwi-icon-yingyongAPP" }),
              _vm._v("分类")
            ]
          ),
          _vm._m(1),
          _c(
            "navigator",
            {
              staticClass: "li flex flexAic flexJcc flexcol",
              attrs: {
                "open-type": "redirect",
                url: "/pages/web/mshop/member?msid=" + _vm.mid
              }
            },
            [
              _c("view", { staticClass: "wwi-icon wwi-icon-gerentouxiang" }),
              _vm._v("我的")
            ]
          )
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("view", { staticClass: "no-main" }, [
      _c("view", { staticClass: "wwi-icon wwi-icon-yichangshangbao" }),
      _c("view", { staticClass: "dl" }, [
        _c("view", { staticClass: "dt" }, [_vm._v("购物车空空如也~~")])
      ])
    ])
  },
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("view", { staticClass: "li cur flex flexAic flexJcc flexcol" }, [
      _c("view", { staticClass: "wwi-icon wwi-icon-baoguo_yidong" }),
      _vm._v("购物车")
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ 533:
/*!****************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js& */ 534);
/* harmony import */ var _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 534:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;


















































































































































var _numberBox = _interopRequireDefault(__webpack_require__(/*! ../../../components/number-box.vue */ 68));
var _wwiMaskUp = _interopRequireDefault(__webpack_require__(/*! ../../../components/wwi-mask-up.vue */ 75));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var _default =
{
  data: function data() {
    return {
      key: '',
      cartList: { cart_list: { goods: { gift_list: [] } } },

      btnGo: true,
      voucherList: [],
      goodsArray: [],
      jjgGoods: [],
      maxcou: 0,
      mid: '' };

  },
  components: {
    numberBox: _numberBox.default,
    wwiMaskUp: _wwiMaskUp.default },

  methods: {
    Inlimine: function Inlimine() {var _this = this;
      if (this.key) {
        this.wwiopt({
          url: "/index.php?app=member_cart&wwi=cart_list",
          method: 'POST',
          data: { key: this.key },
          success: function success(res) {
            if (_this.checkLogin(res.data.login)) {
              if (!res.data.datas.error) {
                if (res.data.datas.cart_list.length == 0) {
                  uni.setStorageSync('cart_count', 0);
                }
                _this.$set(res.data.datas, 'click', true);
                res.data.datas.cart_list.forEach(function (item) {
                  _this.$set(item, 'click', true);
                  _this.$set(item, 'msclick', true);
                  var jjgPrice = parseFloat("0.00");
                  var jjgRank = 0;
                  item.goods.forEach(function (item2) {
                    _this.$set(item2, 'click', true);
                    if (item2.jjgRank > 0) {
                      jjgPrice += parseFloat(item2.goods_total);
                      jjgRank = item2.jjgRank;
                    }
                  });
                  if (jjgRank > 0) {
                    var r = {
                      jjgRank: jjgRank,
                      id: 1,
                      maxcou: 0,
                      storeId: res.data.datas.jjgDetails.cou[jjgRank].info.store_id,
                      mincost: res.data.datas.jjgDetails.cou[jjgRank].firstLevel.mincost,
                      plus: res.data.datas.jjgDetails.cou[jjgRank].firstLevel.plus,
                      price: jjgPrice.toFixed(2),
                      goods: [] };


                    if (jjgPrice >= r.mincost) {
                      var jjkh = res.data.datas.jjgDetails.cou[jjgRank].levels;
                      for (var v in jjkh) {
                        if (jjgPrice < jjkh[v].mincost) {
                          break;
                        }
                        r.id = v;
                        r.mincost = jjkh[v].mincost;
                        r.plus = jjkh[v].plus;
                        r.maxcou = jjkh[v].maxcou;
                      }

                      var jjg_goods = res.data.datas.jjgDetails.cou[jjgRank].levelSkus[r.id];
                      for (var kk in jjg_goods) {
                        jjg_goods[kk].name = res.data.datas.jjgDetails.items[kk].name;
                        jjg_goods[kk].oldprice = res.data.datas.jjgDetails.items[kk].price;
                        jjg_goods[kk].imgurl = res.data.datas.jjgDetails.items[kk].imgUrl;
                        jjg_goods[kk].storage = res.data.datas.jjgDetails.items[kk].storage;
                        jjg_goods[kk].click = 0;
                      }
                      r.goods = jjg_goods;

                    }
                    _this.$set(item, 'jjg', r);
                  }
                });
                _this.cartList = res.data.datas;
              } else {
                uni.showToast({
                  title: res.data.datas.error, icon: "none" });

              }
            }
          } });

      } else {

        var goods = decodeURIComponent(uni.getStorageSync('goods_cart'));
        if (goods != null) {
          var goodsarr = goods.split('|');
        } else {
          goodsarr = {};
        }
        var cart_list = new Array();
        var sum = 0;
        if (goodsarr.length > 0) {
          for (var i = 0; i < goodsarr.length; i++) {
            var info = goodsarr[i].split(',');
            if (isNaN(info[0]) || isNaN(info[1])) continue;
            var data = this.getGoods(info[0], info[1]);

            if (this.isEmptyObject(data)) continue;
            if (cart_list.length > 0) {
              var has = false;
              for (var j = 0; j < cart_list.length; j++) {
                if (cart_list[j].store_id == data.store_id) {
                  cart_list[j].goods.push(data);
                  has = true;
                }
              }
              if (!has) {
                var datas = {};
                datas.store_id = data.store_id;
                datas.store_name = data.store_name;
                datas.goods_id = data.goods_id;
                var goods = new Array();
                goods = [data];
                datas.goods = goods;
                cart_list.push(datas);
              }
            } else {
              var datas = {};
              datas.store_id = data.store_id;
              datas.store_name = data.store_name;
              datas.goods_id = data.goods_id;
              var goods = new Array();
              goods = [data];
              datas.goods = goods;
              cart_list.push(datas);
            }

            sum += parseFloat(data.goods_sum);
          }
        }
        this.cartList = { cart_list: cart_list, sum: sum.toFixed(2), cart_count: goodsarr.length, check_out: false };

      }
    },
    onNumberChange: function onNumberChange(value, e) {var _this2 = this;
      if (value == e.goods_num) {
        return false;
      }
      if (this.key) {
        uni.request({
          url: this.ApiUrl + "/index.php?app=member_cart&wwi=cart_edit_quantity",
          method: 'POST',
          header: { 'content-type': 'application/x-www-form-urlencoded' },
          data: { key: this.key, cart_id: e.cart_id, quantity: value },
          success: function success(res) {
            if (!res.data.datas.error) {
              e.goods_num = res.data.datas.quantity;
              e.goods_total = res.data.datas.total_price;
              _this2.calculateTotalPrice();
            } else {
              uni.showToast({ title: res.data.datas.error, icon: "none" });
            }
          } });

      } else {
        var goods = decodeURIComponent(uni.getStorageSync('goods_cart'));

        if (goods != null) {
          var goodsarr = goods.split('|');
        } else {
          goodsarr = {};
        }
        var goods_id = e.goods_id;
        for (var i = 0; i < goodsarr.length; i++) {
          var info = goodsarr[i].split(',');
          if (info[0] == goods_id) {
            info[1] = value;
            goodsarr[i] = info[0] + ',' + info[1];
          }
        }
        uni.setStorageSync('goods_cart', goodsarr.join('|'));
        e.goods_num = value;
      }
    },
    del: function del(e) {var _this3 = this;
      if (this.key) {
        uni.request({
          url: this.ApiUrl + "/index.php?app=member_cart&wwi=cart_del",
          method: 'POST',
          header: { 'content-type': 'application/x-www-form-urlencoded' },
          data: { key: this.key, cart_id: e.cart_id },
          success: function success(res) {
            if (_this3.checkLogin(res.data.login)) {
              if (!res.data.datas.error && res.data.datas == "1") {
                _this3.Inlimine();
                uni.removeStorageSync('cart_count');
                // 更新购物车中商品数量
                _this3.getCartCount();
              } else {
                uni.showToast({
                  title: res.data.datas.error, icon: "none" });

              }
            }
          } });

      } else {
        var goods_id = e.goods_id;
        var goods = decodeURIComponent(uni.getStorageSync('goods_cart'));
        if (goods != null) {
          var goodsarr = goods.split('|');
        } else {
          goodsarr = {};
        }
        for (var i = 0; i < goodsarr.length; i++) {
          var info = goodsarr[i].split(',');
          if (info[0] == goods_id) {
            goodsarr.splice(i, 1);
            break;
          }
        }
        uni.setStorageSync('goods_cart', goodsarr.join('|'));
        uni.setStorageSync('cart_count', goodsarr.length);
        this.Inlimine();
      }

    },
    selectItem: function selectItem(e, item, top) {
      if (e == 'store') {
        if (item.click == true) {
          item.click = false;
          item.goods.forEach(function (v) {v.click = false;});
        } else {
          item.click = true;
          item.goods.forEach(function (v) {v.click = true;});
        }
      } else if (e == 'goods') {
        if (item.click == true) {
          item.click = false;
        } else {
          item.click = true;
        }
        var okGo = true;
        top.goods.forEach(function (god) {
          if (god.click == false) {
            okGo = false;
          }
        });
        if (okGo) {
          top.click = true;
        } else {
          top.click = false;
        }
      } else {
        if (this.cartList.click == true) {
          this.cartList.click = false;
          this.cartList.cart_list.forEach(function (bb) {
            bb.click = false;
            bb.goods.forEach(function (mm) {
              mm.click = false;
            });
          });
        } else {
          this.cartList.click = true;
          this.cartList.cart_list.forEach(function (bb) {
            bb.click = true;
            bb.goods.forEach(function (mm) {
              mm.click = true;
            });
          });
        }
      }
      var okALL = true;
      this.cartList.cart_list.forEach(function (all) {
        if (all.click == false) {
          okALL = false;
        }
      });
      if (okALL) {
        this.cartList.click = true;
      } else {
        this.cartList.click = false;
      }
      this.calculateTotalPrice();
    },
    calculateTotalPrice: function calculateTotalPrice() {var _this4 = this;
      var totalPrice = parseFloat("0.00");
      var btnGo = false;
      this.cartList.cart_list.forEach(function (bb) {
        var jjgPrice = parseFloat("0.00");
        var jjgRank = 0;
        bb.goods.forEach(function (mm) {
          if (mm.click == true) {
            totalPrice += parseFloat(mm.goods_total);
            btnGo = true;
            if (mm.jjgRank > 0) {
              jjgPrice += parseFloat(mm.goods_total);
              jjgRank = mm.jjgRank;
            }
          }
        });
        if (jjgRank > 0) {
          var r = {
            jjgRank: jjgRank,
            id: 1,
            maxcou: 0,
            storeId: _this4.cartList.jjgDetails.cou[jjgRank].info.store_id,
            mincost: _this4.cartList.jjgDetails.cou[jjgRank].firstLevel.mincost,
            plus: _this4.cartList.jjgDetails.cou[jjgRank].firstLevel.plus,
            price: jjgPrice.toFixed(2),
            goods: [] };


          if (jjgPrice >= r.mincost) {
            var jjkh = _this4.cartList.jjgDetails.cou[jjgRank].levels;
            for (var v in jjkh) {
              if (jjgPrice < jjkh[v].mincost) {
                break;
              }
              r.id = v;
              r.mincost = jjkh[v].mincost;
              r.plus = jjkh[v].plus;
              r.maxcou = jjkh[v].maxcou;
            }

            var jjg_goods = _this4.cartList.jjgDetails.cou[jjgRank].levelSkus[r.id];
            for (var kk in jjg_goods) {
              jjg_goods[kk].name = _this4.cartList.jjgDetails.items[kk].name;
              jjg_goods[kk].oldprice = _this4.cartList.jjgDetails.items[kk].price;
              jjg_goods[kk].imgurl = _this4.cartList.jjgDetails.items[kk].imgUrl;
              jjg_goods[kk].storage = _this4.cartList.jjgDetails.items[kk].storage;
              jjg_goods[kk].click = 0;
            }
            r.goods = jjg_goods;
          }
          bb.jjg = r;
        }
      });

      this.cartList.sum = totalPrice.toFixed(2);
      if (btnGo == true) {
        this.btnGo = true;
      } else {
        this.btnGo = false;
      }
    },
    mansong: function mansong(e) {
      if (e.msclick == true) {
        e.msclick = false;
      } else {
        e.msclick = true;
      }
    },
    showMulLinkageThreePicker: function showMulLinkageThreePicker(e) {
      if (e.voucher) {
        this.voucherList = e.voucher;

        this.$refs.wwiMaskUp.show();
      }

    },
    getFreeVoucher: function getFreeVoucher(e) {var _this5 = this;
      if (!this.key) {this.checkLogin(0);return;}
      uni.request({
        url: this.ApiUrl + "/index.php?app=member_voucher&wwi=voucher_freeex",
        method: 'POST',
        header: { 'content-type': 'application/x-www-form-urlencoded' },
        data: { tid: e.voucher_t_id, key: this.key },
        success: function success(res) {
          _this5.checkLogin(res.data.login);
          var msg = '领取成功';
          if (res.data.datas.error) {
            msg = '领取失败' + res.data.datas.error;
          }
          uni.showToast({
            title: msg, icon: "none" });

        } });

    },
    getGoods: function getGoods(goods_id, goods_num) {
      var data = {
        cart_id: '',
        store_id: '',
        store_name: '',
        goods_id: '',
        goods_name: '',
        goods_price: "",
        goods_num: '',
        goods_image_url: "",
        goods_sum: "" };

      uni.request({
        url: this.ApiUrl + '/index.php?app=goods&wwi=goods_detail',
        data: { goods_id: goods_id },
        success: function success(res) {
          var result = res.data;
          if (result.datas.error) {
            return false;
          }
          var pic = result.datas.goods_image.split(',');
          data.cart_id = goods_id;
          data.store_id = result.datas.store_info.store_id;
          data.store_name = result.datas.store_info.store_name;
          data.goods_id = goods_id;
          data.goods_name = result.datas.goods_info.goods_name;
          data.goods_price = result.datas.goods_info.goods_price;
          data.goods_num = goods_num;
          data.goods_image_url = pic[0];
          data.goods_sum = (parseInt(goods_num) * parseFloat(result.datas.goods_info.goods_price)).toFixed(2);

        } });

      return data;
    },
    goBuy: function goBuy() {
      if (!this.btnGo) {
        return false;
      }
      var cartIdArr = [];
      var jjg = [];
      this.cartList.cart_list.forEach(function (bb) {
        bb.goods.forEach(function (mm) {
          if (mm.click == true) {
            var cartIdNum = mm.cart_id + "|" + mm.goods_num;
            cartIdArr.push(cartIdNum);
          }
        });
        if (bb.jjg && bb.jjg.jjgRank > '0') {
          for (var k in bb.jjg.goods) {
            if (bb.jjg.goods[k].click) {
              var jjgIdNum = bb.jjg.jjgRank + "|" + bb.jjg.id + "|" + k;
              jjg.push(jjgIdNum);
            }
          }
        }
      });
      var cart_id = cartIdArr.toString();
      var jjg_id = jjg.toString();
      var url = '/pages/buy/buystep?ifcart=1&cartId=' + cart_id;
      if (!this.isEmptyObject(jjg)) {
        url += '&jjg=' + jjg_id;
      }

      uni.navigateTo({
        url: url });

    },
    selectJjg: function selectJjg(e, v) {
      if (e) {
        this.jjgGoods = e;
        this.maxcou = v;
        this.$refs.wwiJjg.show();
      }

    },
    selectJjgGoods: function selectJjgGoods(e) {var _this6 = this;
      if (e.storage < '1' && !e.click) {
        uni.showToast({
          title: '库存不足', icon: 'none' });

        return false;
      }
      if (this.maxcou > '0' && !e.click) {
        var nowcou = 0;
        for (var jj in this.jjgGoods) {
          if (this.jjgGoods[jj].click) {
            nowcou += 1;
          }
        }
        console.log(this.maxcou, nowcou);
        if (nowcou >= this.maxcou) {
          uni.showToast({
            title: '您只能选择' + this.maxcou + '件换购商品', icon: 'none' });

          return false;
        }
      }

      e.click = !e.click;
      var totalPrice = parseFloat("0.00");
      this.cartList.cart_list.forEach(function (bb) {
        bb.goods.forEach(function (mm) {
          if (mm.click == true) {
            totalPrice += parseFloat(mm.goods_total);
          }
        });
        if (bb.jjg && !_this6.isEmptyObject(bb.jjg.goods)) {
          for (var k in bb.jjg.goods) {
            if (bb.jjg.goods[k].click) {
              totalPrice += parseFloat(bb.jjg.goods[k].price);
            }
          }
        }
      });

      this.cartList.sum = totalPrice.toFixed(2);
    } },

  onLoad: function onLoad(e) {
    if (e.msid) {
      this.mid = e.msid;
      uni.setStorageSync('msid', e.msid);
    } else {
      this.mid = uni.getStorageSync('msid');
    }
    if (!this.mid) {
      uni.showToast({
        title: '参数错误', icon: "none",
        success: function success() {
          setTimeout(function () {
            var page = getCurrentPages();
            if (page.length > 1) {
              uni.navigateBack();
            } else {
              uni.switchTab({ url: '/pages/index' });
            }
          }, 1000);
        } });

    }
    this.key = uni.getStorageSync('key');
  },
  onShow: function onShow() {
    this.key = uni.getStorageSync('key');
    this.Inlimine();




  } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 535:
/*!************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=css& */ 536);
/* harmony import */ var _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_2_1_3_20190723_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 536:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/qianmengApp/pages/web/mshop/cart.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[529,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/web/mshop/cart.js.map